define("mod/lang",[],function(){var lang={},ArrayProto=Array.prototype,nativeForEach=ArrayProto.forEach,slice=ArrayProto.slice,each=lang.each=function(obj,iterator,context){if(obj)if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length)for(var i=0,l=obj.length;l>i;i++)iterator.call(context,obj[i],i,obj);else for(var key in obj)obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key,obj)};return lang.isArray=Array.isArray||function(obj){return"[object Array]"==={}.toString.call(obj)},lang.filter=function(obj,iterator,context){var results=[];return ArrayProto.filter?obj.filter(iterator,context):(each(obj,function(item,idx){iterator.call(context,item,idx,obj)&&results.push(item)}),results)},lang.extend=function(obj){return each(slice.call(arguments,1),function(source){for(var prop in source)obj[prop]=source[prop]}),obj},lang.escape=function(str){str=""+str||"";var xmlchar={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};return str.replace(/[<>&'"]/g,function($1){return xmlchar[$1]})},lang});